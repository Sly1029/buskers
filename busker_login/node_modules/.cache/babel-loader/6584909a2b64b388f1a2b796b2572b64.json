{"ast":null,"code":"import _classCallCheck from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js\";\nimport React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\"; //import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n\nvar incrementor = 2258;\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n    Firebase.addImages();\n    _this.state = {\n      items: 5,\n      loading: false\n    };\n    _this.config = {\n      apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n      authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n      databaseURL: \"https://buskers-demo-vivek.firebaseio.com\",\n      projectId: \"buskers-demo-vivek\",\n      storageBucket: \"buskers-demo-vivek.appspot.com\",\n      messagingSenderId: \"698456608857\"\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"addImages\",\n    value: function addImages() {\n      var storageRef = firebase.storage().ref();\n      var mainImage;\n\n      var path = require('path');\n\n      var fs = require('fs');\n\n      var directoryPath = path.join('busking'); //passsing directoryPath and callback function\n\n      fs.readdir(directoryPath, function (err, files) {\n        //handling error\n        if (err) {\n          return console.log('Unable to scan directory: ' + err);\n        } //listing all files using forEach\n\n\n        files.forEach(function (file) {\n          // Do whatever you want to do with the file\n          mainImage = storageRef.child(file.name);\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Detect when scrolled to bottom.\n      this.refs.myscroll.addEventListener(\"scroll\", function () {\n        if (_this2.refs.myscroll.scrollTop + _this2.refs.myscroll.clientHeight >= _this2.refs.myscroll.scrollHeight) {\n          _this2.loadMore();\n        }\n      });\n    }\n  }, {\n    key: \"showItems\",\n    value: function showItems() {\n      var items = []; //<div>\n      //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n      //</div>);\n\n      for (var i = 0; i < this.state.items; i++) {\n        if (incrementor == 2283) {\n          incrementor = 2284;\n        }\n\n        if (incrementor == 2271) {\n          incrementor = 2273;\n        }\n\n        if (incrementor == 2302) {\n          incrementor = 2250;\n        }\n\n        items.push(React.createElement(\"div\", {\n          class: \"wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: require(\"./busking/\" + \"IMG_\" + incrementor + \".jpg\"),\n          height: 1000,\n          width: 800,\n          mode: \"fit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }))));\n        incrementor++;\n      }\n\n      return items;\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var _this3 = this;\n\n      console.log(this.state.items);\n      this.setState({\n        loading: true\n      });\n      setTimeout(function () {\n        _this3.setState({\n          items: _this3.state.items + 5,\n          loading: false\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        ref: \"myscroll\",\n        style: {\n          height: \"2000px\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.showItems()), this.state.loading ? React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"loading ...\") : \"\");\n    } //     var styles = StyleSheet.create({\n    //   container: {\n    //     flex: 1,\n    //     alignItems: 'center',\n    //     paddingTop: Constants.statusBarHeight,\n    //     backgroundColor: '#ecf0f1',\n    //   },\n    //   image: {\n    //     width: Dimensions.get('window').width,\n    //     height: Dimensions.get('window').width,\n    //   },\n    //   info: {\n    //     flexDirection: 'row',\n    //     justifyContent: 'space-between',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     paddingRight: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   infoText: {\n    //     fontSize: 16,\n    //     fontWeight: 'bold',\n    //   },\n    //   comment: {\n    //     flexDirection: 'row',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   commentText: {\n    //     paddingRight: 15,\n    //     fontWeight: 'bold',\n    //   },\n    // })\n\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js"],"names":["React","Component","Image","firebase","incrementor","HomePage","props","Firebase","addImages","state","items","loading","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","storageRef","storage","ref","mainImage","path","require","fs","directoryPath","join","readdir","err","files","console","log","forEach","file","child","name","refs","myscroll","addEventListener","scrollTop","clientHeight","scrollHeight","loadMore","i","push","setState","setTimeout","height","overflow","showItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\"\n//import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\nvar incrementor = 2258;\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    Firebase.addImages()\n    this.state = {\n      items: 5,\n      loading: false\n    };\n    this.config = {\n      apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n      authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n      databaseURL: \"https://buskers-demo-vivek.firebaseio.com\",\n      projectId: \"buskers-demo-vivek\",\n      storageBucket: \"buskers-demo-vivek.appspot.com\",\n      messagingSenderId: \"698456608857\"\n    };\n  }\n\n\n  addImages(){\n    const storageRef = firebase.storage().ref();\n    var mainImage;\n    var path = require('path')\n    var fs = require('fs')\n    const directoryPath = path.join('busking');\n    //passsing directoryPath and callback function\n    fs.readdir(directoryPath, function (err, files) {\n    //handling error\n    if (err) {\n        return console.log('Unable to scan directory: ' + err);\n    }\n    //listing all files using forEach\n    files.forEach(function (file) {\n        // Do whatever you want to do with the file\n        mainImage = storageRef.child(file.name);\n    });\n});\n}\n  componentDidMount() {\n    // Detect when scrolled to bottom.\n    this.refs.myscroll.addEventListener(\"scroll\", () => {\n      if (\n        this.refs.myscroll.scrollTop + this.refs.myscroll.clientHeight >=\n        this.refs.myscroll.scrollHeight\n      ) {\n        this.loadMore();\n      }\n    });\n  }\n\n  showItems() {\n    var items = [];\n    //<div>\n    //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n    //</div>);\n\n    for (var i = 0; i < this.state.items; i++) {\n      if (incrementor == 2283) {\n        incrementor = 2284;\n      }\n      if (incrementor == 2271) {\n        incrementor = 2273;\n      }\n      if (incrementor == 2302) {\n        incrementor = 2250;\n      }\n      items.push(\n        <div class=\"wrapper\">\n          <div class=\"container\">\n            <Image\n              src={require(\"./busking/\" + \"IMG_\" + incrementor + \".jpg\")}\n              height={1000}\n              width={800}\n              mode=\"fit\"\n            />\n          </div>\n        </div>\n      );\n      incrementor++;\n    }\n    return items;\n  }\n\n  loadMore() {\n    console.log(this.state.items);\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      this.setState({ items: this.state.items + 5, loading: false });\n    }, 2000);\n  }\n\n  render() {\n    return (\n      <div\n        className=\"App\"\n        ref=\"myscroll\"\n        style={{ height: \"2000px\", overflow: \"auto\" }}\n      >\n        <ul>{this.showItems()}</ul>\n        {this.state.loading ? <p className=\"App-intro\">loading ...</p> : \"\"}\n      </div>\n    );\n  }\n\n  //     var styles = StyleSheet.create({\n  //   container: {\n  //     flex: 1,\n  //     alignItems: 'center',\n  //     paddingTop: Constants.statusBarHeight,\n  //     backgroundColor: '#ecf0f1',\n  //   },\n  //   image: {\n  //     width: Dimensions.get('window').width,\n  //     height: Dimensions.get('window').width,\n  //   },\n  //   info: {\n  //     flexDirection: 'row',\n  //     justifyContent: 'space-between',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     paddingRight: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   infoText: {\n  //     fontSize: 16,\n  //     fontWeight: 'bold',\n  //   },\n  //   comment: {\n  //     flexDirection: 'row',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   commentText: {\n  //     paddingRight: 15,\n  //     fontWeight: 'bold',\n  //   },\n  // })\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}