{"ast":null,"code":"import _classCallCheck from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js\";\nimport React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\";\nimport Gallery from 'react-grid-gallery'; //import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\nvar config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    firebase.initializeApp(config);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n    _this.image_url = [];\n    _this.state = {\n      items: 5,\n      loading: false\n    };\n\n    _this.populateList();\n\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Detect when scrolled to bottom.\n      this.refs.myscroll.addEventListener(\"scroll\", function () {\n        if (_this2.refs.myscroll.scrollTop + _this2.refs.myscroll.clientHeight + 20 >= _this2.refs.myscroll.scrollHeight) {\n          _this2.loadMore();\n        }\n      });\n    }\n  }, {\n    key: \"populateList\",\n    value: function populateList() {\n      var _this3 = this;\n\n      var database = firebase.database();\n      database.ref('images').on('value', function (snapshot) {\n        var incrementor = _this3.state.items;\n        snapshot.forEach(function (child) {\n          //  console.log(child.val());\n          _this3.image_url.push(child.val());\n        });\n      });\n      console.log(this.image_url);\n    }\n  }, {\n    key: \"showItems\",\n    value: function showItems() {\n      var items = []; //<div>\n      //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n      //</div>);\n\n      var items = this.state.items;\n\n      if (items >= this.img_url.length) {\n        items = this.img_url.length - 1;\n      }\n\n      for (var i = 0; i < items; i++) {\n        console.log(i);\n        items.push(React.createElement(\"div\", {\n          class: \"wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: this.image_url[i],\n          height: 1000,\n          width: 800,\n          mode: \"fit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }))));\n      }\n\n      return items;\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var _this4 = this;\n\n      //console.log(this.state.items);\n      this.setState({\n        loading: true\n      });\n      setTimeout(function () {\n        _this4.setState({\n          items: _this4.state.items + 10,\n          loading: false\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(this.showItems());\n      return React.createElement(\"div\", {\n        className: \"App\",\n        ref: \"myscroll\",\n        style: {\n          height: \"2000px\",\n          width: \"2000px\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"u1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.showItems())), this.state.loading ? React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"loading ...\") : \"\");\n    } //     var styles = StyleSheet.create({\n    //   container: {\n    //     flex: 1,\n    //     alignItems: 'center',\n    //     paddingTop: Constants.statusBarHeight,\n    //     backgroundColor: '#ecf0f1',\n    //   },\n    //   image: {\n    //     width: Dimensions.get('window').width,\n    //     height: Dimensions.get('window').width,\n    //   },\n    //   info: {\n    //     flexDirection: 'row',\n    //     justifyContent: 'space-between',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     paddingRight: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   infoText: {\n    //     fontSize: 16,\n    //     fontWeight: 'bold',\n    //   },\n    //   comment: {\n    //     flexDirection: 'row',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   commentText: {\n    //     paddingRight: 15,\n    //     fontWeight: 'bold',\n    //   },\n    // })\n\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js"],"names":["React","Component","Image","firebase","Gallery","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","HomePage","props","initializeApp","image_url","state","items","loading","populateList","refs","myscroll","addEventListener","scrollTop","clientHeight","scrollHeight","loadMore","database","ref","on","snapshot","incrementor","forEach","child","push","val","console","log","img_url","length","i","setState","setTimeout","height","width","overflow","showItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\";\nimport Gallery from 'react-grid-gallery';\n//import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\n\nconst config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nclass HomePage extends Component {\n\n\n\n  constructor(props) {\n    firebase.initializeApp(config);\n    super(props);\n    this.image_url = [];\n    this.state = {\n      items: 5,\n      loading: false\n    };\n    this.populateList();\n  }\n  componentDidMount() {\n    // Detect when scrolled to bottom.\n    this.refs.myscroll.addEventListener(\"scroll\", () => {\n      if (\n        this.refs.myscroll.scrollTop + this.refs.myscroll.clientHeight+20 >=\n        this.refs.myscroll.scrollHeight\n      ) {\n        this.loadMore();\n      }\n    });\n  }\n\npopulateList(){\n  var database = firebase.database()\n  database.ref('images').on('value', (snapshot) => {\n    var incrementor = this.state.items;\n    snapshot.forEach((child) => {\n    //  console.log(child.val());\n      this.image_url.push(child.val());\n    });\n  });\nconsole.log(this.image_url);\n}\n\n\n  showItems() {\n\n    var items = []\n    //<div>\n    //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n    //</div>);\n  var items =  this.state.items;\n  if (items >= this.img_url.length){\n    items = this.img_url.length -1;\n  }\n    for (var i = 0; i < items; i++){\n      console.log(i)\n      items.push(\n      <div class=\"wrapper\">\n          <div class=\"container\">\n            <Image\n              src={this.image_url[i]}\n              height={1000}\n              width={800}\n              mode=\"fit\"\n            />\n          </div>\n        </div>\n      );\n    }\n    return items;\n}\n\n  loadMore() {\n    //console.log(this.state.items);\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      this.setState({ items: this.state.items + 10, loading: false });\n    }, 2000);\n  }\n\n  render() {\n    //console.log(this.showItems());\n    return (\n      <div\n        className=\"App\"\n        ref=\"myscroll\"\n        style={{ height: \"2000px\",width:\"2000px\", overflow: \"auto\" }}\n      >\n        <div>\n\n        <u1>{this.showItems()}</u1>\n        </div>\n        {this.state.loading ? <p className=\"App-intro\">loading ...</p> : \"\"}\n      </div>\n    );\n  }\n\n  //     var styles = StyleSheet.create({\n  //   container: {\n  //     flex: 1,\n  //     alignItems: 'center',\n  //     paddingTop: Constants.statusBarHeight,\n  //     backgroundColor: '#ecf0f1',\n  //   },\n  //   image: {\n  //     width: Dimensions.get('window').width,\n  //     height: Dimensions.get('window').width,\n  //   },\n  //   info: {\n  //     flexDirection: 'row',\n  //     justifyContent: 'space-between',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     paddingRight: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   infoText: {\n  //     fontSize: 16,\n  //     fontWeight: 'bold',\n  //   },\n  //   comment: {\n  //     flexDirection: 'row',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   commentText: {\n  //     paddingRight: 15,\n  //     fontWeight: 'bold',\n  //   },\n  // })\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}