{"ast":null,"code":"import _classCallCheck from \"/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/src/components/Home/HomePage.js\";\nimport React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\"; //import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\nvar config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    if (firebase.apps.length === 0) firebase.initializeApp(config);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n    _this.image_url = [];\n    _this.state = {\n      items: 5,\n      loading: false\n    };\n\n    _this.populateList();\n\n    _this.loadMore();\n\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Detect when scrolled to bottom.\n      this.refs.myscroll.addEventListener(\"scroll\", function () {\n        if (_this2.refs.myscroll.scrollTop + _this2.refs.myscroll.clientHeight + 20 >= _this2.refs.myscroll.scrollHeight) {\n          _this2.loadMore();\n        }\n      });\n    }\n  }, {\n    key: \"populateList\",\n    value: function populateList() {\n      var _this3 = this;\n\n      var database = firebase.database();\n      database.ref(\"images\").on(\"value\", function (snapshot) {\n        var incrementor = _this3.state.items;\n        snapshot.forEach(function (child) {\n          //  console.log(child.val());\n          _this3.image_url.push(child.val());\n        });\n      });\n      console.log(this.image_url);\n    }\n  }, {\n    key: \"showItems\",\n    value: function showItems() {\n      var items = []; //<div>\n      //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n      //</div>);\n\n      var amtItems = this.state.items;\n      console.log(amtItems);\n\n      if (amtItems > this.image_url.length) {\n        amtItems = this.image_url.length;\n      }\n\n      for (var i = 0; i < amtItems; i++) {\n        console.log(this.image_url[i] + \"\");\n        items.push(React.createElement(\"div\", {\n          class: \"wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: this.image_url[i],\n          height: 600,\n          width: 800,\n          mode: \"fill\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }), React.createElement(\"form\", {\n          onSubmit: this.addComment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          className: \"input\",\n          name: \"name\",\n          placeholder: \"Your name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"textarea\", {\n          className: \"textarea\",\n          name: \"comment\",\n          placeholder: \"Add a comment\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button is-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Submit\")))))));\n      }\n\n      return items;\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var _this4 = this;\n\n      //console.log(this.state.items);\n      this.setState({\n        loading: true\n      });\n      setTimeout(function () {\n        _this4.setState({\n          items: _this4.state.items + 10,\n          loading: false\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(this.showItems());\n      return React.createElement(\"div\", {\n        className: \"App\",\n        ref: \"myscroll\",\n        style: {\n          height: \"2000px\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, this.showItems()), this.state.loading ? React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"loading ...\") : \"\");\n    } //     var styles = StyleSheet.create({\n    //   container: {\n    //     flex: 1,\n    //     alignItems: 'center',\n    //     paddingTop: Constants.statusBarHeight,\n    //     backgroundColor: '#ecf0f1',\n    //   },\n    //   image: {\n    //     width: Dimensions.get('window').width,\n    //     height: Dimensions.get('window').width,\n    //   },\n    //   info: {\n    //     flexDirection: 'row',\n    //     justifyContent: 'space-between',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     paddingRight: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   infoText: {\n    //     fontSize: 16,\n    //     fontWeight: 'bold',\n    //   },\n    //   comment: {\n    //     flexDirection: 'row',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   commentText: {\n    //     paddingRight: 15,\n    //     fontWeight: 'bold',\n    //   },\n    // })\n\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/media/vivek/DREXEL UNIVERSITY/buskers/busker_login/src/components/Home/HomePage.js"],"names":["React","Component","Image","firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","HomePage","props","apps","length","initializeApp","image_url","state","items","loading","populateList","loadMore","refs","myscroll","addEventListener","scrollTop","clientHeight","scrollHeight","database","ref","on","snapshot","incrementor","forEach","child","push","val","console","log","amtItems","i","addComment","setState","setTimeout","height","overflow","showItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\";\n//import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\nconst config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nclass HomePage extends Component {\n  constructor(props) {\n    if (firebase.apps.length === 0) firebase.initializeApp(config);\n    super(props);\n    this.image_url = [];\n    this.state = {\n      items: 5,\n      loading: false\n    };\n    this.populateList();\n    this.loadMore();\n  }\n  componentDidMount() {\n    // Detect when scrolled to bottom.\n    this.refs.myscroll.addEventListener(\"scroll\", () => {\n      if (\n        this.refs.myscroll.scrollTop + this.refs.myscroll.clientHeight + 20 >=\n        this.refs.myscroll.scrollHeight\n      ) {\n        this.loadMore();\n      }\n    });\n  }\n\n  populateList() {\n    var database = firebase.database();\n    database.ref(\"images\").on(\"value\", snapshot => {\n      var incrementor = this.state.items;\n      snapshot.forEach(child => {\n        //  console.log(child.val());\n        this.image_url.push(child.val());\n      });\n    });\n    console.log(this.image_url);\n  }\n\n  showItems() {\n    var items = [];\n    //<div>\n    //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n    //</div>);\n    var amtItems = this.state.items;\n    console.log(amtItems);\n    if (amtItems > this.image_url.length) {\n      amtItems = this.image_url.length;\n    }\n    for (var i = 0; i < amtItems; i++) {\n      console.log(this.image_url[i] + \"\");\n      items.push(\n        <div class=\"wrapper\">\n          <div class=\"container\">\n            <Image\n              src={this.image_url[i]}\n              height={600}\n              width={800}\n              mode=\"fill\"\n            />\n\n            <form onSubmit={this.addComment}>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    type=\"text\"\n                    className=\"input\"\n                    name=\"name\"\n                    placeholder=\"Your name\"\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <textarea\n                    className=\"textarea\"\n                    name=\"comment\"\n                    placeholder=\"Add a comment\"\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <button className=\"button is-primary\">Submit</button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      );\n    }\n    return items;\n  }\n\n  loadMore() {\n    //console.log(this.state.items);\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      this.setState({ items: this.state.items + 10, loading: false });\n    }, 2000);\n  }\n\n  render() {\n    //console.log(this.showItems());\n    return (\n      <div\n        className=\"App\"\n        ref=\"myscroll\"\n        style={{ height: \"2000px\", overflow: \"auto\" }}\n      >\n        <ul>{this.showItems()}</ul>\n        {this.state.loading ? <p className=\"App-intro\">loading ...</p> : \"\"}\n      </div>\n    );\n  }\n\n  //     var styles = StyleSheet.create({\n  //   container: {\n  //     flex: 1,\n  //     alignItems: 'center',\n  //     paddingTop: Constants.statusBarHeight,\n  //     backgroundColor: '#ecf0f1',\n  //   },\n  //   image: {\n  //     width: Dimensions.get('window').width,\n  //     height: Dimensions.get('window').width,\n  //   },\n  //   info: {\n  //     flexDirection: 'row',\n  //     justifyContent: 'space-between',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     paddingRight: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   infoText: {\n  //     fontSize: 16,\n  //     fontWeight: 'bold',\n  //   },\n  //   comment: {\n  //     flexDirection: 'row',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   commentText: {\n  //     paddingRight: 15,\n  //     fontWeight: 'bold',\n  //   },\n  // })\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}