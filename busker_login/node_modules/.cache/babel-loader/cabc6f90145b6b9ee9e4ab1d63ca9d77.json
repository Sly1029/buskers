{"ast":null,"code":"import _classCallCheck from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js\";\nimport React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\";\nimport Gallery from 'react-grid-gallery'; //import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\nvar items = [];\nvar config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    firebase.initializeApp(config);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n    _this.state = {\n      items: 5,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Detect when scrolled to bottom.\n      this.refs.myscroll.addEventListener(\"scroll\", function () {\n        if (_this2.refs.myscroll.scrollTop + _this2.refs.myscroll.clientHeight + 20 >= _this2.refs.myscroll.scrollHeight) {\n          _this2.loadMore();\n        }\n      });\n    }\n  }, {\n    key: \"showItems\",\n    value: function showItems() {\n      var _this3 = this;\n\n      //<div>\n      //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n      //</div>);\n      var database = firebase.database();\n      database.ref('images').on('value', function (snapshot) {\n        var incrementor = _this3.state.items;\n        snapshot.forEach(function (child) {\n          //console.log(child.val(), child.key);\n          //console.log(child.val());\n          // <div class=\"container\">\n          //   <Image\n          //     src={child.val()}\n          //     height={1000}\n          //     width={800}\n          //     mode=\"fit\"\n          //   />\n          // </div>\n          items.push({\n            src: child.val(),\n            thumbnail: child.val(),\n            thumbnailWidth: 400,\n            thumbnailHeight: 400\n          });\n        });\n      });\n      console.log();\n      return React.createElement(\"div\", {\n        classname: \"home-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Gallery, {\n        images: items,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var _this4 = this;\n\n      console.log(this.state.items);\n      this.setState({\n        loading: true\n      });\n      setTimeout(function () {\n        _this4.setState({\n          items: _this4.state.items + 5,\n          loading: false\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.showItems());\n      return React.createElement(\"div\", {\n        className: \"App\",\n        ref: \"myscroll\",\n        style: {\n          height: \"2000px\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.showItems()), this.state.loading ? React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"loading ...\") : \"\");\n    } //     var styles = StyleSheet.create({\n    //   container: {\n    //     flex: 1,\n    //     alignItems: 'center',\n    //     paddingTop: Constants.statusBarHeight,\n    //     backgroundColor: '#ecf0f1',\n    //   },\n    //   image: {\n    //     width: Dimensions.get('window').width,\n    //     height: Dimensions.get('window').width,\n    //   },\n    //   info: {\n    //     flexDirection: 'row',\n    //     justifyContent: 'space-between',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     paddingRight: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   infoText: {\n    //     fontSize: 16,\n    //     fontWeight: 'bold',\n    //   },\n    //   comment: {\n    //     flexDirection: 'row',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   commentText: {\n    //     paddingRight: 15,\n    //     fontWeight: 'bold',\n    //   },\n    // })\n\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js"],"names":["React","Component","Image","firebase","Gallery","items","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","HomePage","props","initializeApp","state","loading","refs","myscroll","addEventListener","scrollTop","clientHeight","scrollHeight","loadMore","database","ref","on","snapshot","incrementor","forEach","child","push","src","val","thumbnail","thumbnailWidth","thumbnailHeight","console","log","setState","setTimeout","showItems","height","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\";\nimport Gallery from 'react-grid-gallery';\n//import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\nvar items = [];\nconst config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nclass HomePage extends Component {\n\n\n\n  constructor(props) {\n    firebase.initializeApp(config);\n    super(props);\n    this.state = {\n      items: 5,\n      loading: false\n    };\n  }\n  componentDidMount() {\n    // Detect when scrolled to bottom.\n    this.refs.myscroll.addEventListener(\"scroll\", () => {\n      if (\n        this.refs.myscroll.scrollTop + this.refs.myscroll.clientHeight+20 >=\n        this.refs.myscroll.scrollHeight\n      ) {\n        this.loadMore();\n      }\n    });\n  }\n\n  showItems() {\n\n\n\n    //<div>\n    //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n    //</div>);\n\n    var database = firebase.database()\n    database.ref('images').on('value', (snapshot) => {\n      var incrementor = this.state.items;\n      snapshot.forEach((child) => {\n        //console.log(child.val(), child.key);\n\n          //console.log(child.val());\n          // <div class=\"container\">\n          //   <Image\n          //     src={child.val()}\n          //     height={1000}\n          //     width={800}\n          //     mode=\"fit\"\n          //   />\n          // </div>\n        items.push(\n\n        {src: child.val(),\n        thumbnail: child.val(),\n        thumbnailWidth: 400,\n        thumbnailHeight: 400\n      }\n    );\n\n  });\n\n});\n\nconsole.log();\nreturn (<div classname=\"home-container\">\n  <Gallery images={items}/>\n  </div>\n);\n}\n\n  loadMore() {\n    console.log(this.state.items);\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      this.setState({ items: this.state.items + 5, loading: false });\n    }, 2000);\n  }\n\n  render() {\n    console.log(this.showItems());\n    return (\n      <div\n        className=\"App\"\n        ref=\"myscroll\"\n        style={{ height: \"2000px\", overflow: \"auto\" }}\n      >\n        <ul>{this.showItems()}</ul>\n        {this.state.loading ? <p className=\"App-intro\">loading ...</p> : \"\"}\n      </div>\n    );\n  }\n\n  //     var styles = StyleSheet.create({\n  //   container: {\n  //     flex: 1,\n  //     alignItems: 'center',\n  //     paddingTop: Constants.statusBarHeight,\n  //     backgroundColor: '#ecf0f1',\n  //   },\n  //   image: {\n  //     width: Dimensions.get('window').width,\n  //     height: Dimensions.get('window').width,\n  //   },\n  //   info: {\n  //     flexDirection: 'row',\n  //     justifyContent: 'space-between',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     paddingRight: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   infoText: {\n  //     fontSize: 16,\n  //     fontWeight: 'bold',\n  //   },\n  //   comment: {\n  //     flexDirection: 'row',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   commentText: {\n  //     paddingRight: 15,\n  //     fontWeight: 'bold',\n  //   },\n  // })\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}