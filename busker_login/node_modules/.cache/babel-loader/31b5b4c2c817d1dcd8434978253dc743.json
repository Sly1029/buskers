{"ast":null,"code":"import _classCallCheck from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tihor29/Documents/buskers/busker_login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js\";\nimport React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\"; //import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\nvar config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n    _this.state = {\n      items: 5,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Detect when scrolled to bottom.\n      this.refs.myscroll.addEventListener(\"scroll\", function () {\n        if (_this2.refs.myscroll.scrollTop + _this2.refs.myscroll.clientHeight >= _this2.refs.myscroll.scrollHeight) {\n          _this2.loadMore();\n        }\n      });\n    }\n  }, {\n    key: \"showItems\",\n    value: function showItems() {\n      var items = []; //<div>\n      //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n      //</div>);\n\n      var incrementor = 0;\n      firebase.initializeApp(config);\n      var database = firebase.database();\n      console.log(database.ref('images'));\n      database.ref('images').on('value', function (snapshot) {\n        snapshot.forEach(function (child) {\n          console.log(child.val(), child.key);\n          items.push(React.createElement(\"div\", {\n            class: \"wrapper\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            class: \"container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: child.val(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }), React.createElement(Image, {\n            src: child.val(),\n            height: 1000,\n            width: 800,\n            mode: \"fit\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }))));\n        });\n      }); // query.once(\"value\")\n      // for (var i = 0; i < this.state.items; i++) {\n      //\n      //   items.push(\n      //     <div class=\"wrapper\">\n      //       <div class=\"container\">\n      //         <Image\n      //           src={require(\"./busking/\" + \"IMG_\" + incrementor + \".jpg\")}\n      //           height={1000}\n      //           width={800}\n      //           mode=\"fit\"\n      //         />\n      //       </div>\n      //     </div>\n      //   );\n      //   incrementor++;\n      // }\n\n      return items;\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var _this3 = this;\n\n      console.log(this.state.items);\n      this.setState({\n        loading: true\n      });\n      setTimeout(function () {\n        _this3.setState({\n          items: _this3.state.items + 5,\n          loading: false\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        ref: \"myscroll\",\n        style: {\n          height: \"2000px\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.showItems()), this.state.loading ? React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"loading ...\") : \"\");\n    } //     var styles = StyleSheet.create({\n    //   container: {\n    //     flex: 1,\n    //     alignItems: 'center',\n    //     paddingTop: Constants.statusBarHeight,\n    //     backgroundColor: '#ecf0f1',\n    //   },\n    //   image: {\n    //     width: Dimensions.get('window').width,\n    //     height: Dimensions.get('window').width,\n    //   },\n    //   info: {\n    //     flexDirection: 'row',\n    //     justifyContent: 'space-between',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     paddingRight: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   infoText: {\n    //     fontSize: 16,\n    //     fontWeight: 'bold',\n    //   },\n    //   comment: {\n    //     flexDirection: 'row',\n    //     padding: 10,\n    //     paddingLeft: 15,\n    //     borderBottomWidth: 1,\n    //     borderColor: '#d8d8d8',\n    //   },\n    //   commentText: {\n    //     paddingRight: 15,\n    //     fontWeight: 'bold',\n    //   },\n    // })\n\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/home/tihor29/Documents/buskers/busker_login/src/components/Home/HomePage.js"],"names":["React","Component","Image","firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","HomePage","props","state","items","loading","refs","myscroll","addEventListener","scrollTop","clientHeight","scrollHeight","loadMore","incrementor","initializeApp","database","console","log","ref","on","snapshot","forEach","child","val","key","push","setState","setTimeout","height","overflow","showItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"./Image.js\";\nimport \"./HomePage.css\";\nimport firebase from \"firebase\";\n//import { Text, View, StyleSheet, Dimensions, FlatList } from 'react-native';\n//var incrementor = 2258;\n\n\nconst config = {\n  apiKey: \"AIzaSyDLcrBLgAbWb3d_KE-DInA4IoL8svlsyvU\",\n  authDomain: \"buskers-demo-vivek.firebaseapp.com\",\n  databaseURL: \"https://busker-5561a.firebaseio.com/\",\n  projectId: \"buskers-demo-vivek\",\n  storageBucket: \"buskers-demo-vivek.appspot.com\",\n  messagingSenderId: \"698456608857\"\n};\n\nclass HomePage extends Component {\n\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: 5,\n      loading: false\n    };\n  }\n  componentDidMount() {\n    // Detect when scrolled to bottom.\n    this.refs.myscroll.addEventListener(\"scroll\", () => {\n      if (\n        this.refs.myscroll.scrollTop + this.refs.myscroll.clientHeight >=\n        this.refs.myscroll.scrollHeight\n      ) {\n        this.loadMore();\n      }\n    });\n  }\n\n  showItems() {\n    var items = [];\n    //<div>\n    //<img src={require('./busking/'+\"IMG_\"+incrementor+\".jpg\")}/>;\n    //</div>);\n    var incrementor = 0;\n    firebase.initializeApp(config);\n    var database = firebase.database()\n      console.log(database.ref('images'));\n    database.ref('images').on('value', (snapshot) => {\n      snapshot.forEach((child) => {\n        console.log(child.val(), child.key);\n        items.push(\n\n      <div class=\"wrapper\">\n        <div class=\"container\">\n          <img src={child.val()}/>\n\n          <Image\n            src={child.val()}\n            height={1000}\n            width={800}\n            mode=\"fit\"\n          />\n        </div>\n      </div>\n\n\n    );\n\n  });\n\n\n});\n    // query.once(\"value\")\n    // for (var i = 0; i < this.state.items; i++) {\n    //\n    //   items.push(\n    //     <div class=\"wrapper\">\n    //       <div class=\"container\">\n    //         <Image\n    //           src={require(\"./busking/\" + \"IMG_\" + incrementor + \".jpg\")}\n    //           height={1000}\n    //           width={800}\n    //           mode=\"fit\"\n    //         />\n    //       </div>\n    //     </div>\n    //   );\n    //   incrementor++;\n    // }\n    return items;\n  }\n\n  loadMore() {\n    console.log(this.state.items);\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      this.setState({ items: this.state.items + 5, loading: false });\n    }, 2000);\n  }\n\n  render() {\n    return (\n      <div\n        className=\"App\"\n        ref=\"myscroll\"\n        style={{ height: \"2000px\", overflow: \"auto\" }}\n      >\n        <ul>{this.showItems()}</ul>\n        {this.state.loading ? <p className=\"App-intro\">loading ...</p> : \"\"}\n      </div>\n    );\n  }\n\n  //     var styles = StyleSheet.create({\n  //   container: {\n  //     flex: 1,\n  //     alignItems: 'center',\n  //     paddingTop: Constants.statusBarHeight,\n  //     backgroundColor: '#ecf0f1',\n  //   },\n  //   image: {\n  //     width: Dimensions.get('window').width,\n  //     height: Dimensions.get('window').width,\n  //   },\n  //   info: {\n  //     flexDirection: 'row',\n  //     justifyContent: 'space-between',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     paddingRight: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   infoText: {\n  //     fontSize: 16,\n  //     fontWeight: 'bold',\n  //   },\n  //   comment: {\n  //     flexDirection: 'row',\n  //     padding: 10,\n  //     paddingLeft: 15,\n  //     borderBottomWidth: 1,\n  //     borderColor: '#d8d8d8',\n  //   },\n  //   commentText: {\n  //     paddingRight: 15,\n  //     fontWeight: 'bold',\n  //   },\n  // })\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}